!function(h,c){"function"==typeof define&&define.amd?define(c):"object"==typeof exports?module.exports=c():h.resLoader=c(h)}(this,function(){function h(h){if(this.option={resourceType:"image",baseUrl:"./",resources:[],onStart:null,onProgress:null,onComplete:null},!h)return void alert("参数错误！");for(i in h)this.option[i]=h[i];this.status=0,this.total=this.option.resources.length||0,this.currentIndex=0}var c=function(f){return"function"==typeof f};return h.prototype.start=function(){this.status=1;for(var h=this,g=this.option.baseUrl,i=0,l=this.option.resources.length;l>i;i++){var r=this.option.resources[i],y="";y=0===r.indexOf("http://")||0===r.indexOf("https://")?r:g+r;var I=new Image;I.onload=function(){h.loaded()},I.onerror=function(){h.loaded()},I.src=y}c(this.option.onStart)&&this.option.onStart(this.total)},h.prototype.loaded=function(){c(this.option.onProgress)&&this.option.onProgress(++this.currentIndex,this.total),this.currentIndex===this.total&&c(this.option.onComplete)&&this.option.onComplete(this.total)},h});